(function(c,k,d,h){function e(a,b){this.el=c(a);this.options=c.extend({},n,b);this._init()}var l=["Webkit","Moz","O","ms"],f="",g=!1,m="",f="",n={duration:1E3,iterationCount:"infinite",auto:!0},b;d.documentElement.style.animationName&&(g=!0);if(!g)for(b=0;b<l.length;b++)if(d.documentElement.style[l[b]+"AnimationName"]!==h){f=l[b];m="-"+f.toLowerCase()+"-";g=!0;break}if(g){f="@"+m+"keyframes modernBlink { 50% { opacity: 0; }}";h=null;if(d.styleSheets&&d.styleSheets.length)for(b=0;b<d.styleSheets.length;b++)if(-1!=
d.styleSheets[b].href.indexOf(k.location.hostname)){h=d.styleSheets[b];break}null!==h?h.insertRule(f,0):(k=d.createElement("style"),k.innerHTML=f,d.getElementsByTagName("head")[0].appendChild(k))}e.prototype._init=function(){this.options.auto&&this.start();this._bindEventHandlers()};e.prototype.start=function(a){g?this.el.css({"animation-name":"modernBlink","animation-duration":""+this.options.duration+"ms","animation-iteration-count":""+this.options.iterationCount}):this._fallbackAnimation(this.options.iterationCount)};
e.prototype.stop=function(a){return g?this.el.css({"animation-name":"","animation-duration":"","animation-iteration-count":""}):this.el.stop(!0,!0)};e.prototype._fallbackAnimation=function(a){var b=this,c=this.options.duration/2;if(0<a||"infinite"===a)a="infinite"===a?"infinite":a-1,this.el.animate({opacity:0},c).promise().done(function(){b.el.animate({opacity:1},c);b._fallbackAnimation(a)})};e.prototype._bindEventHandlers=function(){this.el.on("modernBlink.start",c.proxy(this.start,this));this.el.on("modernBlink.stop",
c.proxy(this.stop,this))};c.fn.modernBlink=function(a){return this.each(function(){if(c.data(this,"plugin_modernBlink")){if(a=(a||"").replace(/^_/,""),c.isFunction(e.prototype[a]))c.data(this,"plugin_modernBlink")[a]()}else c.data(this,"plugin_modernBlink",new e(this,a))})}})(jQuery,window,document);